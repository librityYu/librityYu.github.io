<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="Liberty&#39;s Blog">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Liberty&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Liberty">
<meta name="twitter:card" content="summary"><title>Liberty's Blog</title><link ref="canonical" href="http://example.com/page/2/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"å¤åˆ¶","copySuccess":"å¤åˆ¶æˆåŠŸ","copyError":"å¤åˆ¶å¤±è´¥"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">é¦–é¡µ</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">å½’æ¡£</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">åˆ†ç±»</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">æ ‡ç­¾</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/æ—¥è®°/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">æ—¥è®°</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Liberty's Blog</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/15/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-12/">è€å©†åŠ æ²¹-12</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-15</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-15</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <p>ä¸‰æ˜æ²»ï¼Œå¥½åƒåˆ°æˆ‘ä»¬å¿˜è®°æ‹äº†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <p>ç•ªèŒ„é¸¡è›‹ç›–æµ‡é¥­ï¼Œå¥½åƒåˆ°æˆ‘ä»¬å¿˜è®°æ‹äº†ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>

        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <p>å…ˆåƒåƒäº†ä¸ªä¸‰æ˜æ²»ï¼Œä¹Ÿæ˜¯å¥½åƒåˆ°å¿˜è®°æ‹äº†ã€‚</p>
<p>å¯¹äº†å†å»ä¹°é¢åŒ…çš„è·¯ä¸Šï¼Œè¿˜æŠŠå­™åŒå­¦æç”Ÿæ°”åˆ°äº†ã€‚ç«Ÿæ˜¯å› ä¸ºæˆ‘è¯´å¥¹å¨ä½å¤§ï¼Œå¯ä»¥æŠŠäººå®¶æ‘©æ‰˜è½¦æ’é£äº†ã€‚å“ˆå“ˆã€‚å¥¹å«Œå¼ƒè‡ªå·±å®åŠ›å¤§ï¼Œæ‰€ä»¥æ›´æˆ‘ç”Ÿæ°”ã€‚ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£</p>
<p>ä¸‰æ˜æ²»åƒå®Œã€‚åˆ°äº†æ™šä¸Š8ç‚¹çš„æ ·å­ã€‚å°æ™¨æ™¨é¥¿äº†ï¼Œç„¶åæˆ‘å»ç»™å¥¹ç‚’äº†ç¢—è›‹ç‚’é¥­ã€‚ç”±äºå¤ªå¥½åƒäº†ï¼Œè¿˜æ²¡ç­‰æˆ‘æ‹ç…§ï¼Œå¥¹å°±å¹²å®Œäº†ã€‚ç›´å¤¸å¤ªå¥½åƒäº†ã€‚ç„¶åæˆ‘å°†å‰©ä½™çš„é¥­ä¹Ÿå…¨ç‚’äº†ï¼Œç»™å¥¹ç››äº†ç¢—æ˜å¤©ä¸­åˆåƒã€‚æˆ‘å¸¦äº†ä¸¤ç¢—ã€‚</p>
<p>ç¾å¥½çš„å‘¨æœ«å°±è¿™æ ·ç»“æŸäº†ã€‚å¤ªå¿«äº†ã€‚</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/">å‡è‚¥æ—¥è®°-11</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-13</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-16</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <p>æ˜¨å¤©ä¸€å¤©çš„å¿™æ´»ï¼Œé¥­ä¹Ÿæ²¡æ€ä¹ˆå¥½å¥½åƒã€‚æ—©ä¸Š4ç‚¹å¤šå°±èµ·ã€‚æ™šä¸Š11ç‚¹å¤šæ‰ç¡ä¸‹ã€‚å¤ªç´¯äº†ï¼Œå¯¼è‡´ä»£è°¢é™ä½ã€‚å“å¿ƒç–¼ã€‚</p>
<p>è¿™æ˜¯æ—©ä¸Šçš„ä½“é‡ï¼š</p>
<div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾1.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>é‡äº†ä¸¤æ–¤ã€‚åº”è¯¥æ˜¯è¿‡åŠ³è‚¥ã€‚è°ƒæ•´ä¸€å¤©åº”è¯¥å°±ä¼šç˜¦å›å»ã€‚</p>
<div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>å¥‡äºšç±½æ³¡ç‰›å¥¶ã€‚</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾4.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>æ’éª¨éƒ½å†»ä½äº†ã€‚</p>

        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾5.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/13/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-11/å›¾6.jpg" alt="img-0" style="zoom: 20%;"></div>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/12/Recycleview%E5%9F%BA%E4%BA%8E%E6%BB%91%E5%8A%A8%E5%88%86%E6%9E%90/">RecycleviewåŸºäºæ»‘åŠ¨åˆ†æ</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-15</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>æ—¢ç„¶è¦ç ”ç©¶æ»‘åŠ¨é‚£å°±è¦çœ‹<code>Recycleview</code>çš„<code>onTouchEvent</code>æ–¹æ³•ï¼š</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (action) &#123;</span><br><span class="line">        <span class="keyword">case</span> MotionEvent.ACTION_MOVE: &#123;</span><br><span class="line">        <span class="comment">// scrollByInternal å®ç°recycleviewæ»šåŠ¨</span></span><br><span class="line">                <span class="keyword">if</span> (scrollByInternal(</span><br><span class="line">                        canScrollHorizontally ? dx : <span class="number">0</span>,</span><br><span class="line">                        canScrollVertically ? dy : <span class="number">0</span>,</span><br><span class="line">                        e)) &#123;</span><br><span class="line">                    getParent().requestDisallowInterceptTouchEvent(<span class="keyword">true</span>);</span><br><span class="line">                &#125;</span><br><span class="line">         <span class="comment">// å®ç°é¢„ç¼“å­˜ï¼Œå¦‚æœè¦é¢„å–çš„viewHolderè°ƒç”¨è¿‡onBinderViewHolderæ–¹æ³•ï¼Œé‚£ä¹ˆé¢„å–çš„viewHolderå°±ä¿å­˜åˆ°mCachedViewsé‡Œé¢ã€‚å¦‚æœæ²¡æœ‰è°ƒç”¨è¿‡onBindViewHolderæ–¹æ³•ï¼Œåˆ™æŠŠè¿™ä¸ªviewHolderæ·»åŠ åˆ°mRecycleviewPoolé‡Œé¢ã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (mGapWorker != <span class="keyword">null</span> &amp;&amp; (dx != <span class="number">0</span> || dy != <span class="number">0</span>)) &#123;</span><br><span class="line">                    mGapWorker.postFromTraversal(<span class="keyword">this</span>, dx, dy);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> MotionEvent.ACTION_UP: &#123;</span><br><span class="line">            mVelocityTracker.addMovement(vtev);</span><br><span class="line">            eventAddedToVelocityTracker = <span class="keyword">true</span>;</span><br><span class="line">            mVelocityTracker.computeCurrentVelocity(<span class="number">1000</span>, mMaxFlingVelocity);</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">float</span> xvel = canScrollHorizontally</span><br><span class="line">                    ? -mVelocityTracker.getXVelocity(mScrollPointerId) : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">float</span> yvel = canScrollVertically</span><br><span class="line">                    ? -mVelocityTracker.getYVelocity(mScrollPointerId) : <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// flingå®ç°æƒ¯æ€§æ»‘åŠ¨</span></span><br><span class="line">            <span class="keyword">if</span> (!((xvel != <span class="number">0</span> || yvel != <span class="number">0</span>) &amp;&amp; fling((<span class="keyword">int</span>) xvel, (<span class="keyword">int</span>) yvel))) &#123;</span><br><span class="line">                setScrollState(SCROLL_STATE_IDLE);</span><br><span class="line">            &#125;</span><br><span class="line">            resetScroll();</span><br><span class="line">        &#125; <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;çœ‹æ–¹æ³•<code>scrollByInternal</code>ï¼š</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">scrollByInternal</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, MotionEvent ev)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mAdapter != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// å®ç°recycleviewçš„æ»‘åŠ¨</span></span><br><span class="line">        scrollStep(x, y, mReusableIntPair);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!mItemDecorations.isEmpty()) &#123;</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!awakenScrollBars()) &#123;</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> consumedNestedScroll || consumedX != <span class="number">0</span> || consumedY != <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">scrollStep</span><span class="params">(<span class="keyword">int</span> dx, <span class="keyword">int</span> dy, <span class="meta">@Nullable</span> <span class="keyword">int</span>[] consumed)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> consumedX = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> consumedY = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (dx != <span class="number">0</span>) &#123;</span><br><span class="line">         consumedX = mLayout.scrollHorizontallyBy(dx, mRecycler, mState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dy != <span class="number">0</span>) &#123;</span><br><span class="line">         consumedY = mLayout.scrollVerticallyBy(dy, mRecycler, mState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (consumed != <span class="keyword">null</span>) &#123;</span><br><span class="line">          consumed[<span class="number">0</span>] = consumedX;</span><br><span class="line">          consumed[<span class="number">1</span>] = consumedY;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥çœ‹åˆ°æ»‘åŠ¨äº‹ä»¶äº¤ç»™äº†<code>LayoutManager</code>çš„<code>scrollVerticallyBy</code>hå’Œ<code>scrollHorizontallyBy</code></p>
<p>æ‰€ä»¥è‡ªå®šä¹‰<code>LayoutManager</code>çš„è¯å¦‚æœæ”¯æŒæ»‘åŠ¨é‚£ä¹ˆå°±éœ€è¦é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ç°åœ¨æ¥çœ‹ä¸‹<code>scrollVertically</code>æ–¹æ³•ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scrollVerticallyBy</span><span class="params">(<span class="keyword">int</span> dy, RecyclerView.Recycler recycler,</span></span></span><br><span class="line"><span class="params"><span class="function">        RecyclerView.State state)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mOrientation == HORIZONTAL) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> scrollBy(dy, recycler, state);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•çš„æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯é‚£ä¹ˆçš„é‡è¦ã€‚ã€‚ã€‚ã€‚</span></span><br><span class="line"><span class="comment">// ç»è¿‡ä¹ä¹å…«åä¸€éš¾ï¼Œæˆ‘æ‰çœ‹æ‡‚ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">scrollBy</span><span class="params">(<span class="keyword">int</span> delta, RecyclerView.Recycler recycler, RecyclerView.State state)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// deltaå°±æ˜¯æ¯æ¬¡çš„æ»šåŠ¨å€¼</span></span><br><span class="line">    mLayoutState.mRecycle = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> layoutDirection = delta &gt; <span class="number">0</span> ? LayoutState.LAYOUT_END : LayoutState.LAYOUT_START;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> absDelta = Math.abs(delta);</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•é‡Œé¢æ¯ä¸ªå‚æ•°çš„èµ‹å€¼éƒ½å¾ˆé‡è¦ã€‚çœ‹ä¸‹é¢æˆ‘çš„åˆ†æ</span></span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•æœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯ç»™ mAvailable å’Œ mScrollingOffsetèµ‹å€¼ã€‚</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬çš„mScrollingOffsetçš„å€¼ä¹Ÿå°±æ˜¯åœ¨è¿™æ—¶å€™è¢«æ”¹å˜äº†ã€‚</span></span><br><span class="line">    updateLayoutState(layoutDirection, absDelta, <span class="keyword">true</span>, state);</span><br><span class="line">    <span class="comment">// fillæ–¹æ³• æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿã€‚ã€‚ã€‚è¿™ä¸ªæ–¹æ³•å®ç°çˆ¶è§†å›¾å¯¹å­©å­çš„æ·»åŠ </span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> consumed = mLayoutState.mScrollingOffset</span><br><span class="line">            + fill(recycler, mLayoutState, state, <span class="keyword">false</span>);</span><br><span class="line">    <span class="keyword">if</span> (consumed &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> scrolled = absDelta &gt; consumed ? layoutDirection * consumed : delta;</span><br><span class="line">    <span class="comment">// ä¸Šé¢fillå®Œæˆäº†å¸ƒå±€</span></span><br><span class="line">    <span class="comment">// offsetChildrenå®ç°å°†æ¯ä¸ªviewè¿›è¡Œå¹³ç§»ã€‚å¤ªæ£’äº†ã€‚</span></span><br><span class="line">    <span class="comment">// ä»¥åæˆ‘ä¹Ÿè¦è¿™ä¹ˆå¹²ï¼Œå¤ªä¼šäº†ã€‚</span></span><br><span class="line">    mOrientationHelper.offsetChildren(-scrolled);</span><br><span class="line">    mLayoutState.mLastScrollDelta = scrolled;</span><br><span class="line">    <span class="keyword">return</span> scrolled;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨æ¥ä¿å­˜æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦æ»‘åŠ¨çš„è·ç¦»</span></span><br><span class="line"><span class="comment">// æˆ–è€…æ˜¯æœ€ä¸Šé¢ä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦çš„è·ç¦»ã€‚</span></span><br><span class="line"><span class="comment">// ä»¥åŠè¿™æ¬¡æ»‘åŠ¨å€¼requireSpace - æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦æ»‘åŠ¨çš„è·ç¦» ä»–ä»¬çš„å€¼çš„çŠ¶æ€</span></span><br><span class="line"><span class="comment">// å¦‚æœå¤§äº0ä»£è¡¨è¿™æ¬¡æ»‘åŠ¨æœ€åä¸€ä¸ªviewå¯ä»¥å…¨éƒ¨å±•ç¤ºå‡ºæ¥ï¼Œéœ€è¦å»æ·»åŠ ä¸€ä¸ªæ–°viewè¿›æ¥äº†ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateLayoutState</span><span class="params">(<span class="keyword">int</span> layoutDirection, <span class="keyword">int</span> requiredSpace,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">boolean</span> canUseExistingSpace, RecyclerView.State state)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå‡è®¾æ‰‹æŒ‡è¿åŠ¨æ–¹å‘æ˜¯ä»ä¸‹å¾€ä¸Š åˆ™ layoutDirection = LayoutState.LAYOUT_END</span></span><br><span class="line">    mLayoutState.mInfinite = resolveIsInfinite(); <span class="comment">//fasle</span></span><br><span class="line">    mLayoutState.mLayoutDirection = layoutDirection; <span class="comment">// 1</span></span><br><span class="line">    mReusableIntPair[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    mReusableIntPair[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    calculateExtraLayoutSpace(state, mReusableIntPair);<span class="comment">// ç°åœ¨çœ‹æ¥å•¥ä¹Ÿæ²¡å¹²</span></span><br><span class="line">    <span class="keyword">int</span> extraForStart = Math.max(<span class="number">0</span>, mReusableIntPair[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">int</span> extraForEnd = Math.max(<span class="number">0</span>, mReusableIntPair[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">boolean</span> layoutToEnd = layoutDirection == LayoutState.LAYOUT_END;</span><br><span class="line">    mLayoutState.mExtraFillSpace = layoutToEnd ? extraForEnd : extraForStart;</span><br><span class="line">    mLayoutState.mNoRecycleSpace = layoutToEnd ? extraForStart : extraForEnd;</span><br><span class="line">    <span class="keyword">int</span> scrollingOffset;</span><br><span class="line">    <span class="keyword">if</span> (layoutToEnd) &#123;<span class="comment">//è¿™é‡Œä¸ºtrue</span></span><br><span class="line">        <span class="comment">// æˆ‘æ²¡ææ‡‚è¿™é‡Œä¸ºå•¥è¦å åŠ recycleviewçš„paddingBottomçš„å€¼ å’‹å åŠ éƒ½æ˜¯0</span></span><br><span class="line">        mLayoutState.mExtraFillSpace += mOrientationHelper.getEndPadding();</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æœ€åº•ä¸‹çš„view</span></span><br><span class="line">        <span class="keyword">final</span> View child = getChildClosestToEnd();</span><br><span class="line">        <span class="comment">// ç”±äºä¸æ˜¯åå‘å¸ƒå±€ è¿™é‡Œçš„mItemDirection = 1</span></span><br><span class="line">        mLayoutState.mItemDirection = mShouldReverseLayout ? LayoutState.ITEM_DIRECTION_HEAD</span><br><span class="line">                : LayoutState.ITEM_DIRECTION_TAIL;</span><br><span class="line">        <span class="comment">// æ¯”å¦‚æˆ‘ä»¬é¡µé¢å·²ç»æ·»åŠ äº†12ä¸ªå­viewï¼Œé‚£ä¹ˆè¿™ä¸ªgetPosition(child)çš„å€¼å°±æ˜¯11 ç„¶å ç”±äºæ˜¯ä¸‹ä¸Šæ»‘åŠ¨çš„é‚£ä¹ˆmItemDirectionçš„å€¼å°±æ˜¯1  ç»“æœæ˜¾è€Œæ˜“è§ mLayoutState.mCurrentPositiond = 11 + 1</span></span><br><span class="line">        mLayoutState.mCurrentPosition = getPosition(child) + mLayoutState.mItemDirection;</span><br><span class="line">        <span class="comment">// mOffset çš„å€¼ ç­‰äº å½“å‰è¿™ä¸ªviewè·ç¦»çˆ¶è§†å›¾åº•éƒ¨çš„è·ç¦»ã€‚bottomçš„å€¼ã€‚</span></span><br><span class="line">        mLayoutState.mOffset = mOrientationHelper.getDecoratedEnd(child);</span><br><span class="line">        <span class="comment">// calculate how much we can scroll without adding new children (independent of layout)</span></span><br><span class="line">        <span class="comment">// mOrientationHelper.getDecoratedEnd(child) ç”±äºè¿™ä¸ªchildæ˜¯æœ€åº•éƒ¨çš„è¿™ä¸ªå­è§†å›¾ã€‚æ‰€ä»¥è¿™ä¸ªè·å–çš„å€¼å°±æ˜¯æœ€åº•ä¸‹çš„viewè·ç¦»recycleviewé¡¶éƒ¨çš„è·ç¦»ã€‚</span></span><br><span class="line">        <span class="comment">//mOrientationHelper.getEndAfterPadding()è·å–çš„æ˜¯recycleviewçš„é«˜åº¦-paddingBottomå€¼</span></span><br><span class="line">        <span class="comment">// è¿™ä¸¤ä¸ªä¸€å‡ä»£è¡¨æœ€åä¸€ä¸ªå­—viewå…¨éƒ¨å‡ºç°åˆ°å±å¹•ä¸Šéœ€è¦ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line">        scrollingOffset = mOrientationHelper.getDecoratedEnd(child)</span><br><span class="line">                - mOrientationHelper.getEndAfterPadding();</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> View child = getChildClosestToStart();</span><br><span class="line">        mLayoutState.mExtraFillSpace += mOrientationHelper.getStartAfterPadding();</span><br><span class="line">        mLayoutState.mItemDirection = mShouldReverseLayout ? LayoutState.ITEM_DIRECTION_TAIL</span><br><span class="line">                : LayoutState.ITEM_DIRECTION_HEAD;</span><br><span class="line">        mLayoutState.mCurrentPosition = getPosition(child) + mLayoutState.mItemDirection;</span><br><span class="line">        mLayoutState.mOffset = mOrientationHelper.getDecoratedStart(child);</span><br><span class="line">        <span class="comment">// æœ€ä¸Šé¢ä¸€ä¸ªviewå…¨éƒ¨å‡ºç°åˆ°å±å¹•ä¸Šéœ€è¦ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line">        scrollingOffset = -mOrientationHelper.getDecoratedStart(child)</span><br><span class="line">                + mOrientationHelper.getStartAfterPadding();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// requiredSpaceçš„å€¼å°±æ˜¯æ»šåŠ¨çš„å€¼</span></span><br><span class="line">    mLayoutState.mAvailable = requiredSpace;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªcanUseExistingSpaceçš„å€¼ç­‰äºtrue</span></span><br><span class="line">    <span class="keyword">if</span> (canUseExistingSpace) &#123;</span><br><span class="line">    <span class="comment">// scrollingOffsetä»£è¡¨æœ€åä¸€ä¸ªviewå…¨éƒ¨åˆ’å‡ºå±å¹•çš„è·ç¦»</span></span><br><span class="line">    <span class="comment">// mLayoutState.mAvailable ä»£è¡¨æ­¤æ¬¡æ»‘åŠ¨éœ€è¦çš„è·ç¦»</span></span><br><span class="line">    <span class="comment">// ä¸¤è€…ä¸€å‡ï¼š å¦‚æœç»“æœ&gt;0 ä»£è¡¨æœ€åä¸€ä¸ªviewå·²ç»å…¨éƒ¨å‡ºç°åœ¨å±å¹•äº†ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦å»æ·»åŠ ä¸€ä¸ªæ–°çš„view</span></span><br><span class="line">       <span class="comment">// å¦‚æœå‡çš„&lt;0ï¼Œåˆ™ä»£è¡¨æœ€åä¸€ä¸ªè§†å›¾è¿˜ä¸è¶³ä»¥å…¨éƒ¨å‡ºç°ï¼Œä¹Ÿå°±ä¸ç”¨æ·»åŠ æ–°çš„é¡µé¢äº†</span></span><br><span class="line">        mLayoutState.mAvailable -= scrollingOffset;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸ºæœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦çš„è·ç¦»</span></span><br><span class="line">    mLayoutState.mScrollingOffset = scrollingOffset;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¯”å¦‚è¿™æ¬¡æ»‘åŠ¨è·ç¦»ä¸º 10 ã€‚ æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦çš„è·ç¦»ä¸º</span></span><br><span class="line"><span class="comment">//é‚£ä¹ˆï¼šmAvailable = 10 - 20 = -10  mScrollingOffset = 20ã€‚</span></span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;è¿›å…¥<code>fill</code>æ–¹æ³•æ¥çœ‹ä¸‹ï¼š</p>
<blockquote>
<p>æ»‘åŠ¨çš„æ—¶å€™mScrollingOffset = æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥çš„è·ç¦»</p>
<p>mAvailable = æ»‘åŠ¨è·ç¦» - mScrollingOffset</p>
<p>è¿™ä¸ªmAvailable &gt; 0 ä»£è¡¨è¿™æ¬¡çš„æ»‘åŠ¨éœ€è¦å»å¢åŠ æ–°çš„é¡µé¢ã€‚</p>
<p>â€‹        mAvailable &lt; 0 ä»£è¡¨è¿™æ¬¡çš„æ»‘åŠ¨ä¸éœ€è¦å»å¢åŠ æ–°çš„é¡µé¢ã€‚</p>
<p>å¦‚æœå°äº0ï¼Œä»–é‡Œé¢æ‰§è¡Œäº† mScrollingOffset = mScrollingOffset - mAvailable ä¹Ÿå°±ç­‰äºè¿™æ¬¡çš„æ»‘åŠ¨è·ç¦»ã€‚ç„¶åæ ¹æ®è¿™æ¬¡çš„æ»‘åŠ¨è·ç¦»ï¼Œå»åˆ¤æ–­éœ€ä¸éœ€è¦å¯¹ä¸å¯è§çš„viewè¿›è¡Œå›æ”¶ã€‚4</p>
<p>fillæ–¹æ³•ä¸ä»…æ‰§è¡Œäº†æ·»åŠ è§†å›¾çš„æ“ä½œä¹Ÿæ‰§è¡Œäº†å›æ”¶çš„æ“ä½œã€‚å›æ”¶çš„æ“ä½œæˆ‘æ”¾åœ¨å¦å¤–ä¸€ç¯‡åšå®¢æ¥è®²ã€‚ã€ŠRecycleviewå›æ”¶åŸç†åˆ†æã€‹</p>
</blockquote>
<div align="center"><img src="/2021/11/12/Recycleview%E5%9F%BA%E4%BA%8E%E6%BB%91%E5%8A%A8%E5%88%86%E6%9E%90/å›¾1.png" alt="img-0" style="zoom: 50%;"></div>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fill</span><span class="params">(RecyclerView.Recycler recycler, LayoutState layoutState,</span></span></span><br><span class="line"><span class="params"><span class="function">        RecyclerView.State state, <span class="keyword">boolean</span> stopOnFocusable)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> start = layoutState.mAvailable;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªmScrollingOffsetçš„å€¼åœ¨è§¦å‘æ»‘åŠ¨çš„æ—¶å€™ä¼šè¢«èµ‹å€¼ä¸º </span></span><br><span class="line">    <span class="comment">// æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºåœ¨å±å¹•ä¸Šéœ€è¦çš„è·ç¦»</span></span><br><span class="line">    <span class="comment">// mScrollingOffsetçš„å€¼åªæœ‰åœ¨æ»‘åŠ¨çš„æ—¶å€™æ‰ä¼šèµ‹å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (layoutState.mScrollingOffset != LayoutState.SCROLLING_OFFSET_NaN) &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œé¢åªä¼šåœ¨æ»šåŠ¨çš„æ—¶å€™æ‰ä¼šè°ƒç”¨ã€‚</span></span><br><span class="line">        <span class="comment">// å°äº0ä»£è¡¨è¿™æ¬¡çš„æ»‘åŠ¨ä¸è¶³ä»¥è®©æœ€ä¸‹é¢çš„è§†å›¾å…¨éƒ¨å±•ç¤ºå‡ºæ¥ï¼Œ</span></span><br><span class="line">        <span class="comment">// ä¹Ÿå°±è¯´æ˜ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ·»åŠ æ–°çš„viewåˆ°çˆ¶è§†å›¾é‡Œé¢æ¥ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (layoutState.mAvailable &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å½“å°äº0çš„æ—¶å€™è¿™ä¸€æ­¥éª¤çš„æ“ä½œæ— å¼‚äºå°±æ˜¯è®© </span></span><br><span class="line">        <span class="comment">// mScrollingOffsetçš„å€¼ ç­‰äº è¿™æ¬¡æ»‘åŠ¨çš„å€¼ã€‚</span></span><br><span class="line">            layoutState.mScrollingOffset += layoutState.mAvailable;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™æ˜¯å›æ”¶é‚£äº›ä¸å¯è§çš„è§†å›¾ã€‚è¿™ä¸ªæ–¹æ³•å¾ˆé‡è¦ï¼Œå›æ”¶çš„æ“ä½œå°±åœ¨è¿™é‡Œè¿›è¡Œçš„ã€‚</span></span><br><span class="line">        <span class="comment">// å›æ”¶çš„æ¡ä»¶å°±æ˜¯ä¸Šé¢çš„mScrollingOffsetè¿™ä¸ªæ–¹æ³•ï¼Œåœ¨å›æ”¶çš„æ—¶å€™æœ‰ä¸€ä¸ªåŸºå‡†çº¿limit ä»–çš„å€¼ç­‰äº mScrollingOffset</span></span><br><span class="line">        <span class="comment">// ç„¶åä¼šå¾ªç¯éå†recycleviewæ‰€æœ‰çš„å­view,æ‰¾åˆ°å­©å­viewåº•éƒ¨è·ç¦»é¡¶éƒ¨çš„å€¼ &gt; limit çš„æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„viewã€‚ç„¶åå°†ä»–ä»¬</span></span><br><span class="line">        <span class="comment">// ä»çˆ¶è§†å›¾è¿›è¡Œç§»é™¤ã€‚ å…·ä½“è®²è§£å‚è€ƒæˆ‘çš„åšå®¢ï¼š ã€ŠRecycleviewå›æ”¶åŸç†åˆ†æã€‹</span></span><br><span class="line">        recycleByLayoutState(recycler, layoutState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> remainingSpace = layoutState.mAvailable + layoutState.mExtraFillSpace;</span><br><span class="line">    LayoutChunkResult layoutChunkResult = mLayoutChunkResult;</span><br><span class="line">    <span class="comment">// remainSpace &gt; 0 è¡¨ç¤º æœ‰å¯ç”¨ç©ºé—´å¯ä»¥ä½¿ç”¨ï¼Œé‚£ä¹ˆä¸ºäº†å¡«è¡¥è¿™ä¸ªå¯ç”¨ç©ºé—´ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‰§è¡ŒaddVieæ“ä½œï¼Œä¸ç„¶æ€ä¹ˆå¡«è¡¥è¿™éƒ¨åˆ†ç©ºé—´ï¼Œ</span></span><br><span class="line">    <span class="comment">// ä½ è¯´æ˜¯å§ã€‚ æ·»åŠ ç»“æŸçš„æ ‡å¿—å°±æ˜¯ å¯ç”¨ç©ºé—´è¢«å¡«æ»¡ã€‚</span></span><br><span class="line">    <span class="keyword">while</span> ((layoutState.mInfinite || remainingSpace &gt; <span class="number">0</span>) &amp;&amp; layoutState.hasMore(state)) &#123;</span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯åŠ è½½ä¸€ä¸ªå­view</span></span><br><span class="line">        layoutChunk(recycler, state, layoutState, layoutChunkResult);</span><br><span class="line">        <span class="keyword">if</span> (layoutChunkResult.mFinished) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        layoutState.mOffset += layoutChunkResult.mConsumed * layoutState.mLayoutDirection;</span><br><span class="line">        <span class="comment">// mIgnoreConsumedçœ‹åä¹‹æ„ï¼šå¿½ç•¥æ¶ˆè€—ã€‚ä¸€èˆ¬éƒ½ä¸ä¼šå¿½ç•¥ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!layoutChunkResult.mIgnoreConsumed || layoutState.mScrapList != <span class="keyword">null</span></span><br><span class="line">                || !state.isPreLayout()) &#123;</span><br><span class="line">        <span class="comment">// layoutChunkResult.mConsumed çš„å€¼å°±ç­‰äº ä¸€ä¸ªitemViewæ‰€éœ€è¦æ¶ˆè€—çš„é«˜åº¦ã€‚</span></span><br><span class="line">            layoutState.mAvailable -= layoutChunkResult.mConsumed;</span><br><span class="line">            remainingSpace -= layoutChunkResult.mConsumed;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™ä¸€æ®µå’Œä¸Šé¢é‚£ä¸€æ®µä»£ç ä¸€æ ·ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (layoutState.mScrollingOffset != LayoutState.SCROLLING_OFFSET_NaN) &#123;</span><br><span class="line">            layoutState.mScrollingOffset += layoutChunkResult.mConsumed;</span><br><span class="line">            <span class="keyword">if</span> (layoutState.mAvailable &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸€æ­¥çš„æ“ä½œæ— ç–‘å°±æ˜¯è®©mScrollingOffsetçš„å€¼ = è¿™æ¬¡ç§»åŠ¨çš„å€¼ã€‚</span></span><br><span class="line">                layoutState.mScrollingOffset += layoutState.mAvailable;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å›æ”¶é‚£äº›viewåº•éƒ¨è·ç¦»recycleviewé¡¶éƒ¨çš„å€¼ å¤§äº è¿™æ¬¡æ»‘åŠ¨çš„å€¼çš„é¡µé¢ã€‚</span></span><br><span class="line">            recycleByLayoutState(recycler, layoutState);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stopOnFocusable &amp;&amp; layoutChunkResult.mFocusable) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å½“æˆ‘ä»¬è¿˜æœ‰å¯ä»¥å±•ç¤ºçš„æ›´è¿‡çš„å­©å­çš„æ—¶å€™è¿™ä¸ªmAvailableçš„å€¼ä¸€å®šæ˜¯è´Ÿæ•°çš„ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> start - layoutState.mAvailable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨å…³äº<code>onTouchevent</code>é‡Œé¢çš„<code>scrollByInternal</code>æ–¹æ³•è®²è§£å®Œäº†ï¼Œç°åœ¨çœ‹<code>onTouchevent</code>ä¸‹çš„<code>mGapWorker.postFromTraversal</code>:</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// GapWorkeræ˜¯ä¸€ä¸ªç»§æ‰¿å­Runnableçš„ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡postæ–¹æ³•æˆ‘ä»¬å¯ä»¥æŠŠè¿™æ¡æ¶ˆæ¯å‘é€å‡ºå»</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postFromTraversal</span><span class="params">(RecyclerView recyclerView, <span class="keyword">int</span> prefetchDx, <span class="keyword">int</span> prefetchDy)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (recyclerView.isAttachedToWindow()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mPostTimeNs == <span class="number">0</span>) &#123;</span><br><span class="line">            mPostTimeNs = recyclerView.getNanoTime();</span><br><span class="line">    <span class="comment">// é€šè¿‡postçš„æ–¹æ³•æŠŠæ¶ˆæ¯å‘é€å‡ºå»äº†ã€‚å°±éœ€è¦çœ‹runæ–¹æ³•ã€‚</span></span><br><span class="line">            recyclerView.post(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    recyclerView.mPrefetchRegistry.setPrefetchVector(prefetchDx, prefetchDy);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GapWorker.java</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (mRecyclerViews.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// çœ‹åå­—å°±çŸ¥é“ é¢„å–</span></span><br><span class="line">        <span class="comment">// ä¸ºå•¥é¢„å–ã€‚å°±æ˜¯ä¸ºäº†åˆ›å»ºä¸‹ä¸€ä¸ªviewHolderç„¶åä¿å­˜åˆ°ç¼“å­˜é‡Œé¢ã€‚</span></span><br><span class="line">        prefetch(nextFrameNs);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        mPostTimeNs = <span class="number">0</span>;</span><br><span class="line">        TraceCompat.endSection();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prefetch</span><span class="params">(<span class="keyword">long</span> deadlineNs)</span> </span>&#123;</span><br><span class="line">        buildTaskList();</span><br><span class="line">        flushTasksWithDeadline(deadlineNs);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">flushTasksWithDeadline</span><span class="params">(<span class="keyword">long</span> deadlineNs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; mTasks.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">final</span> Task task = mTasks.get(i);</span><br><span class="line">            <span class="keyword">if</span> (task.view == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            flushTaskWithDeadline(task, deadlineNs);</span><br><span class="line">            task.clear();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨æœ€åæœŸé™åˆ·æ–°ä»»åŠ¡</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">flushTaskWithDeadline</span><span class="params">(Task task, <span class="keyword">long</span> deadlineNs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> taskDeadlineNs = task.immediate ? RecyclerView.FOREVER_NS : deadlineNs;</span><br><span class="line"><span class="comment">//prefetchPositionWithDeadline é€šè¿‡åå­—å¯ä»¥çŸ¥é“ æ˜¯é€šè¿‡æŒ‡å®šä½ç½®å»é¢„å–</span></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•çš„å†…éƒ¨å°±è°ƒç”¨äº†æˆ‘ä»¬åœ¨fillé‡Œé¢çœ‹åˆ°çš„nextæ–¹æ³•è·å–viewçš„æ–¹æ³•ã€‚å°±æ˜¯tryGetViewHolderForPositionByDeadlineæ–¹æ³•ã€‚ä»recycerçš„å››é‡ç¼“å­˜é‡Œé¢ï¼Œå¯»æ‰¾å¯ä»¥ä½¿ç”¨çš„viewHolderã€‚</span></span><br><span class="line">        RecyclerView.ViewHolder holder = prefetchPositionWithDeadline(task.view,</span><br><span class="line">                task.position, taskDeadlineNs);</span><br><span class="line">        <span class="keyword">if</span> (holder != <span class="keyword">null</span></span><br><span class="line">                &amp;&amp; holder.mNestedRecyclerView != <span class="keyword">null</span></span><br><span class="line">                &amp;&amp; holder.isBound()</span><br><span class="line">                &amp;&amp; !holder.isInvalid()) &#123;</span><br><span class="line">            prefetchInnerRecyclerViewWithDeadline(holder.mNestedRecyclerView.get(), deadlineNs);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> RecyclerView.<span class="function">ViewHolder <span class="title">prefetchPositionWithDeadline</span><span class="params">(RecyclerView view,</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="keyword">int</span> position, <span class="keyword">long</span> deadlineNs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isPrefetchPositionAttached(view, position)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        RecyclerView.Recycler recycler = view.mRecycler;</span><br><span class="line">        RecyclerView.ViewHolder holder;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            view.onEnterLayoutOrScroll();</span><br><span class="line">            <span class="comment">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯ä»ç¼“å­˜é‡Œé¢è·å–å¤šåº”å¾—viewHolder</span></span><br><span class="line">            holder = recycler.tryGetViewHolderForPositionByDeadline(</span><br><span class="line">            <span class="keyword">if</span> (holder != <span class="keyword">null</span>) &#123;</span><br><span class="line">             <span class="comment">//isBoundå¾—æ„æ€å°±æ˜¯åˆ¤æ–­è¿™ä¸ªviewHolderæ˜¯å¦è°ƒç”¨è¿‡onBinderViewHolderæ–¹æ³•ã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (holder.isBound() &amp;&amp; !holder.isInvalid()) &#123;</span><br><span class="line">                    recycler.recycleView(holder.itemView);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    recycler.addViewHolderToRecycledViewPool(holder, <span class="keyword">false</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            view.onExitLayoutOrScroll(<span class="keyword">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> holder;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çœ‹ä¸‹<code>prefetchPositionWithDeadline</code>æ–¹æ³•ï¼Œé‡Œé¢åˆ¤æ–­viewHolderæ˜¯å¦è°ƒç”¨è¿‡onBinderViewHolderæ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨è¿‡äº†ï¼Œå°±æŠŠè¿™ä¸ªviewHolderæ·»åŠ åˆ°mCachedViewsæ•°ç»„é‡Œé¢ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ è¿‡çš„è¯å°±æ·»åŠ åˆ°mRecycleviewPoolé‡Œé¢ã€‚å¹¶ä¸”mRecycleviewPoolé‡Œé¢çš„è¿™ç§ç±»å‹çš„æ•°ç»„è¿˜æ²¡æœ‰è¶…è¿‡æ•°ç»„ä¸Šçº¿é»˜è®¤ä¸€ç§ç±»å‹çš„æ•°ç»„å¤§å°æ˜¯5ï¼š</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œå…ˆåˆ¤æ–­è¿™ä¸ªviewHolderæ˜¯å¦è°ƒç”¨è¿‡onBindViewHolderæ–¹æ³•ã€‚onBindViewHolderæ–¹æ³•å°±æ˜¯æŠŠæ•°æ®ç»‘å®šåˆ°äº†viewä¸Šé¢ã€‚</span></span><br><span class="line"><span class="comment">// recycleå¾—ç¼“å­˜æœºåˆ¶é‡Œé¢ã€‚mCachedViewsè¿™ä¸ªæ•°ç»„æ˜¯ç”¨æ¥ç¼“å­˜é‚£äº›è°ƒç”¨è¿‡onBinderViewHolderæ–¹æ³•å¾—viewHolderã€‚è€ŒmRecycleviwPoolé‡Œé¢å¾—mScrapæ•°ç»„ä¿å­˜çš„æ˜¯ä»mCachedViewsæ•°ç»„é‡Œé¢è¸¢å‡ºæ¥å¾—viewHolderã€‚ä¹Ÿæ˜¯é‚£äº›æ²¡æœ‰è°ƒç”¨è¿‡onBindViewHolderæ–¹æ³•çš„è§†å›¾ã€‚</span></span><br><span class="line"><span class="keyword">if</span> (holder != <span class="keyword">null</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (holder.isBound() &amp;&amp; !holder.isInvalid()) &#123;</span><br><span class="line">       <span class="comment">// å¦‚æœç»‘å®šè¿‡è§†å›¾äº†ï¼Œå°±ä¿å­˜åˆ°mCachedViewsæ•°ç»„é‡Œé¢ï¼Œè¿™æ ·çš„è¯ä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥å±•ç¤ºäº†</span></span><br><span class="line">           recycler.recycleView(holder.itemView);</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="comment">// æ·»åŠ åˆ°mRecycleviewPooldçš„mScrapé‡Œé¢ã€‚</span></span><br><span class="line">       <span class="comment">// ä¸è¿‡å¦‚æœå¯¹åº”çš„veiwTypeçš„æ•°ç»„å¤§äºäº†æœ€å¤§é™åˆ¶é»˜è®¤æ˜¯5.é‚£ä¹ˆä¹Ÿä¸ä¼šå¾€é‡Œé¢åŠ äº†ã€‚</span></span><br><span class="line">           recycler.addViewHolderToRecycledViewPool(holder, <span class="keyword">false</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³äºæ»‘åŠ¨çš„æ—¶å€™çš„é¢„å–æ“ä½œè®²å®Œäº†ã€‚</p>
<hr>
<p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ¥çœ‹ä¸‹åœ¨onTouchEventé‡Œé¢çš„<code>scrollByInternal</code>æ–¹æ³•ã€‚æ˜¯æ€ä¹ˆå®ç°æ»‘åŠ¨ çš„ã€‚ </p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æ‰‹æŒ‡ä»ä¸‹å¾€ä¸Šçš„æ—¶å€™<code>mLayoutState.mLayoutDirection =Â LayoutState.LAYOUT_END</code>è¿™ä¸ª<code>mLayoutState.mLayoutDirection</code>çš„å€¼æ˜¯æ ¹æ®æ¯æ¬¡æ»‘åŠ¨çš„å€¼æ¥åˆ¤æ–­çš„ã€‚æ»‘åŠ¨æ”¹å˜å€¼&gt;0ç­‰äºLAYOUT_END ï¼›&lt;0 ç­‰äºLAYOUT_STARTã€‚<code>mLayoutState.mItemDirection</code>æ˜¯æˆ‘ä»¬åˆå§‹åŒ–çš„æ—¶å€™å°±å·²ç»è®¾ç½®å¥½çš„å€¼ã€‚ä¸ä¼šå˜ã€‚</p>
<hr>

        <h1 id="ç›‘å¬viewHolderç§»é™¤">
          <a href="#ç›‘å¬viewHolderç§»é™¤" class="heading-link"><i class="fas fa-link"></i></a><a href="#ç›‘å¬viewHolderç§»é™¤" class="headerlink" title="ç›‘å¬viewHolderç§»é™¤"></a>ç›‘å¬viewHolderç§»é™¤</h1>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨fillæ–¹æ³•é‡Œé¢ï¼Œç§»é™¤ç¼“å­˜é‡Œé¢çš„æ•°æ®çš„æ—¶å€™è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•é‡Œé¢æœ€ç»ˆè¿˜æ˜¯ä¼šè°ƒç”¨ä¸‹é¢çš„dispatchChildDetachedæ–¹æ³•ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeAndRecycleViewAt</span><span class="params">(<span class="keyword">int</span> index, <span class="meta">@NonNull</span> Recycler recycler)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">final</span> View view = getChildAt(index);</span><br><span class="line">         removeViewAt(index);</span><br><span class="line">         recycler.recycleView(view);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dispatchChildDetached</span><span class="params">(View child)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> ViewHolder viewHolder = getChildViewHolderInt(child);</span><br><span class="line">        onChildDetachedFromWindow(child);</span><br><span class="line">        <span class="keyword">if</span> (mAdapter != <span class="keyword">null</span> &amp;&amp; viewHolder != <span class="keyword">null</span>) &#123;</span><br><span class="line">            mAdapter.onViewDetachedFromWindow(viewHolder);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (mOnChildAttachStateListeners != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> cnt = mOnChildAttachStateListeners.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;               mOnChildAttachStateListeners.get(i).onChildViewDetachedFromWindow(child);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>


        <h2 id="æ–¹å¼ä¸€ï¼š">
          <a href="#æ–¹å¼ä¸€ï¼š" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ–¹å¼ä¸€ï¼š" class="headerlink" title="æ–¹å¼ä¸€ï¼š"></a>æ–¹å¼ä¸€ï¼š</h2>
      <p>è°ƒç”¨<code>Recycleview.setRecyclerListener</code>æ³¨å†Œå›æ”¶ç›‘å¬ï¼Œè¿™ä¸ªå›è°ƒé‡Œé¢å¯ä»¥æ‹¿åˆ°å¯¹åº”çš„viewHolder</p>
<p>è°ƒç”¨<code>Recycleveiw.addOnChildAttachStateChangeListener</code>æ³¨å†Œç›‘å¬ã€‚è¿™ä¸ªæ–¹æ³•åªèƒ½æ‹¿åˆ°view.</p>
<p>é‡å†™<code>Recycleview.onChildDetachedFromWindow</code>,è¿™ä¸ªæ–¹æ³•åªèƒ½æ‹¿åˆ°view.</p>

        <h2 id="æ–¹å¼äºŒï¼š">
          <a href="#æ–¹å¼äºŒï¼š" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ–¹å¼äºŒï¼š" class="headerlink" title="æ–¹å¼äºŒï¼š"></a>æ–¹å¼äºŒï¼š</h2>
      <p>é‡å†™<code>Adapter.onViewRecycled</code>å¯ä»¥ç›‘å¬åˆ°è§†å›¾çš„å›æ”¶,è¿™ä¸ªå›è°ƒé‡Œé¢å¯ä»¥æ‹¿åˆ°å¯¹åº”çš„viewHolder</p>
<p>é‡å†™<code>Adapter.onViewDetachedFromWindow</code></p>

        <h1 id="ç›‘å¬viewHolderæ·»åŠ ">
          <a href="#ç›‘å¬viewHolderæ·»åŠ " class="heading-link"><i class="fas fa-link"></i></a><a href="#ç›‘å¬viewHolderæ·»åŠ " class="headerlink" title="ç›‘å¬viewHolderæ·»åŠ "></a>ç›‘å¬viewHolderæ·»åŠ </h1>
      <p>Recycleview:</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“ä¸€ä¸ªviewHolderè¢«æ·»åŠ çš„æ—¶å€™è¿™ä¸ªæ–¹æ³•ä¼šè¢«è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dispatchChildAttached</span><span class="params">(View child)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> ViewHolder viewHolder = getChildViewHolderInt(child);</span><br><span class="line">        onChildAttachedToWindow(child);</span><br><span class="line">        <span class="keyword">if</span> (mAdapter != <span class="keyword">null</span> &amp;&amp; viewHolder != <span class="keyword">null</span>) &#123;</span><br><span class="line">            mAdapter.onViewAttachedToWindow(viewHolder);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (mOnChildAttachStateListeners != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span> cnt = mOnChildAttachStateListeners.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                mOnChildAttachStateListeners.get(i).onChildViewAttachedToWindow(child);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>


        <h2 id="æ–¹å¼ä¸€ï¼š-1">
          <a href="#æ–¹å¼ä¸€ï¼š-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ–¹å¼ä¸€ï¼š-1" class="headerlink" title="æ–¹å¼ä¸€ï¼š"></a>æ–¹å¼ä¸€ï¼š</h2>
      <p>é‡å†™<code>Adapter.onViewAttachedToWindow</code>&gt;æ–¹æ³•ã€‚</p>

        <h2 id="æ–¹å¼äºŒï¼š-1">
          <a href="#æ–¹å¼äºŒï¼š-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ–¹å¼äºŒï¼š-1" class="headerlink" title="æ–¹å¼äºŒï¼š"></a>æ–¹å¼äºŒï¼š</h2>
      <p>è°ƒç”¨<code>Recycleveiw.addOnChildAttachStateChangeListener</code>æ³¨å†Œç›‘å¬ã€‚</p>
<p><strong>å¯ä»¥å‘ç°addOnChildAttachStateChangeListeneræ–¹æ³•å¯ä»¥ç›‘å¬ç§»é™¤å’Œæ·»åŠ </strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OnChildAttachStateChangeListener</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨viewGroupæ‰§è¡Œå®Œ addViewæ“ä½œä¹‹åè°ƒç”¨</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onChildViewAttachedToWindow</span><span class="params">(<span class="meta">@NonNull</span> View view)</span></span>;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–¹å¼æ˜¯åœ¨ViewGroup.removeViewAtä¹‹å‰æ‰§è¡Œçš„ã€‚æ‰€ä»¥ä½ åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢è°ƒç”¨getChildCOuntçš„å€¼è¿˜æ˜¯</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">onChildViewDetachedFromWindow</span><span class="params">(<span class="meta">@NonNull</span> View view)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h1 id="å¦‚æœè¦å®ç°åƒæŠ–éŸ³é‚£æ ·é€‰ä¸­çš„è§†é¢‘è¦è¿›è¡Œæ’­æ”¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšã€‚">
          <a href="#å¦‚æœè¦å®ç°åƒæŠ–éŸ³é‚£æ ·é€‰ä¸­çš„è§†é¢‘è¦è¿›è¡Œæ’­æ”¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšã€‚" class="heading-link"><i class="fas fa-link"></i></a><a href="#å¦‚æœè¦å®ç°åƒæŠ–éŸ³é‚£æ ·é€‰ä¸­çš„è§†é¢‘è¦è¿›è¡Œæ’­æ”¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšã€‚" class="headerlink" title="å¦‚æœè¦å®ç°åƒæŠ–éŸ³é‚£æ ·é€‰ä¸­çš„è§†é¢‘è¦è¿›è¡Œæ’­æ”¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšã€‚"></a>å¦‚æœè¦å®ç°åƒæŠ–éŸ³é‚£æ ·é€‰ä¸­çš„è§†é¢‘è¦è¿›è¡Œæ’­æ”¾çš„è¯ï¼Œè¯¥æ€ä¹ˆåšã€‚</h1>
      <p>è¦å®ç°ä¸€é¡µä¸€é¡µæ»‘åŠ¨çš„è¯ï¼Œå½“ç„¶ç”¨çš„æ˜¯PagerSnapHelperå·¥å…·ç±»ã€‚</p>
<p>å¯ä»¥é‡å†™<code>Recycleview</code>çš„<code>onScrollStateChanged</code>æ–¹æ³•ç›‘å¬æ»‘åŠ¨çŠ¶æ€ï¼Œå½“çŠ¶æ€ä¸º<code>SCROLL_STATE_IDLE</code>çš„æ—¶å€™è¡¨ç¤ºæ»‘åŠ¨åœæ­¢ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªçŠ¶æ€ä¸‹è·å–å½“å‰å±•ç¤ºåœ¨å±å¹•ä¸Šçš„viewã€‚</p>

        <h1 id="è®©Recycleviewæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®">
          <a href="#è®©Recycleviewæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®" class="heading-link"><i class="fas fa-link"></i></a><a href="#è®©Recycleviewæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®" class="headerlink" title="è®©Recycleviewæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®"></a>è®©Recycleviewæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</h1>
      <p>åœ¨çœ‹PagerSnapHelperçš„æºç å‘ç°ã€‚</p>
<p>åœ¨å®ç°æƒ¯æ€§æ»‘åŠ¨çš„æ—¶å€™ï¼Œrecycleviewçš„åº•å±‚æ˜¯é€šè¿‡è¿™æ ·çš„æ–¹æ³•è®©recycleviewæ»šåŠ¨èµ·æ¥çš„ã€‚ï¼š</p>
<ol>
<li>é¦–å…ˆæˆ‘ä»¬éœ€è¦newä¸€ä¸ªRecycleview.SmoothScrollerå¯¹è±¡</li>
<li>ç»™Recycleview.SmoothScrollerå¯¹è±¡è®¾ç½®ä¸€ä¸ªç›®æ ‡æ»šåŠ¨ä½ç½®</li>
<li>è°ƒç”¨layoutManagerçš„startSmoothScroll(RecycleView.SmaoothScroller)æ–¹æ³•</li>
</ol>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™éƒ¨åˆ†å…¨éƒ¨ä»£ç åœ¨ SnaperHelperçš„ snapFromFling()æ–¹æ³•é‡Œé¢ã€‚</span></span><br><span class="line"><span class="comment">// åˆ›å»ºRecycleview.SmoothScrollerå¯¹è±¡       </span></span><br><span class="line">RecyclerView.SmoothScroller smoothScroller = createScroller(layoutManager);</span><br><span class="line"><span class="keyword">if</span> (smoothScroller == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> targetPosition = <span class="number">10</span></span><br><span class="line"><span class="comment">// è®¾ç½®æ»šåŠ¨åˆ°çš„ä½ç½®</span></span><br><span class="line">smoothScroller.setTargetPosition(targetPosition);</span><br><span class="line"><span class="comment">// ç„¶recycleviewæ»šåŠ¨èµ·æ¥</span></span><br><span class="line">layoutManager.startSmoothScroll(smoothScroller);</span><br></pre></td></tr></table></div></figure>


        <h1 id="Recycleviewçš„ç¼“å­˜è¿‡ç¨‹">
          <a href="#Recycleviewçš„ç¼“å­˜è¿‡ç¨‹" class="heading-link"><i class="fas fa-link"></i></a><a href="#Recycleviewçš„ç¼“å­˜è¿‡ç¨‹" class="headerlink" title="Recycleviewçš„ç¼“å­˜è¿‡ç¨‹"></a>Recycleviewçš„ç¼“å­˜è¿‡ç¨‹</h1>
      <p>é¦–å…ˆå…ˆä»mAttachedScrapé‡Œé¢è·å–ï¼Œä»–ä»£è¡¨çš„æ˜¯å±•ç¤ºåœ¨æ‰‹æœºå±å¹•ä¸Šé¢çš„viewHolderã€‚mAttachesScropåœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡å¸ƒå±€é¡µé¢çš„æ—¶å€™ï¼Œè™½ç„¶è°ƒç”¨äº†ä»–çš„addæ“ä½œã€‚ä½†æ˜¯é‚£ä¸ªæ—¶å€™recycleviewæ˜¯ç©ºçš„ï¼Œæ‰€ä»¥mAttachedScrapæ•°ç»„ä¹Ÿæ˜¯ç©ºçš„ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå½“æ—‹è½¬å±å¹•çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§¦å‘requestLayoutã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬çš„mAttachedScropçš„æ•°ç»„å°±ä¸åœ¨æ˜¯ç©ºçš„ã€‚</p>
<p>åœ¨å½“mAttachedScrapä¸ºç©ºçš„æ—¶å€™ï¼Œå°±ä»mHiddenViewsæ•°ç»„é‡Œé¢è·å–ã€‚</p>
<p>å¦‚æœmHiddenViewsä¸ºç©ºï¼Œå°±ä»mCachedViewsé‡Œé¢è·å–ã€‚è¿™ä¸ªmCachedViewsçš„æ•°ç»„é»˜è®¤å¤§å°ä¸º2ã€‚æ„å‘³ç€æœ€å¤§ç¼“å­˜ä¸º2ï¼Œå½“è¶…è¿‡2çš„æ—¶å€™ï¼ŒmCachedViewsä¼šç§»é™¤è¶…å‡ºçš„æ•°æ®æŠŠä»–æ·»åŠ åˆ°RecycledViewPoolé‡Œé¢ã€‚RecyclePoolé‡Œé¢çš„æ•°ç»„æ˜¯æ ¹æ®viewHolderçš„ç±»å‹æ¥ä¿å­˜çš„ã€‚æ¯ä¸ªç±»å‹çš„æœ€å¤§ç¼“å­˜æ•°é‡ä¸º2ã€‚</p>
<p>mCachedViewsä¸ºç©ºçš„è¯å°±å»RecycledViewPoolé‡Œæ‰¾ï¼Œå†ä¸ºç©ºå°±è°ƒç”¨onCreateViewHolderå»åˆ›å»ºã€‚</p>
<p>é‚£mCachedViewsé‡Œé¢çš„æ•°æ®æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™æ·»åŠ è¿›å»çš„å‘¢ï¼Ÿæ˜¯åœ¨ç§»åŠ¨Recycleviewçš„æ—¶å€™ï¼Œç„¶è§¦å‘æ»‘åŠ¨çš„æ—¶å€™ï¼Œå¦‚æœæœ‰çš„é¡µé¢è¶…è¿‡äº†æˆ‘ä»¬çš„é™å®šçº¿limitçš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œç§»é™¤æ“ä½œè¢«æ·»åŠ åˆ°mCachedViewsæ•°ç»„é‡Œé¢ã€‚</p>
<p>é‚£RecycleredViewPoolé‡Œçš„æ•°æ®ä»€ä¹ˆæ—¶å€™åŠ çš„å‘¢ï¼Ÿå†æ‰‹åŠ¿æ»‘åŠ¨çš„æ—¶å€™ï¼Œæ‰§è¡Œmoveæ“ä½œä¼šè°ƒç”¨recycleviewçš„é¢„å–æ“ä½œã€‚é¢„å–æ“ä½œé‡Œé¢åˆ¤æ–­æƒ³è·å–çš„é‚£ä¸ªviewæœ‰æ²¡æœ‰æ‰§è¡Œè¿‡onBindViewHolderæ“ä½œã€‚æ‰§è¡Œè¿‡çš„é‚£ä¹ˆå°±æŠŠé¢„å–å¾—viewHolderåŠ åˆ°mCachedViewsé‡Œé¢ã€‚æ²¡æœ‰æ‰§è¡Œè¿‡onBindViewHolderæ“ä½œå¾—å°±æ”¾åˆ°RecycledViewPoolé‡Œé¢ã€‚</p>
<p>é€šè¿‡è¿™é‡Œå¯ä»¥çŸ¥é“ï¼Œä»mCachedViewsé‡Œé¢è·å–å¾—viewHolderå¯ä»¥ç›´æ¥æ‹¿æ¥å±•ç¤ºï¼Œè€Œä»RecycledViewPoolé‡Œé¢è·å–å¾—viewHolderéœ€è¦å†æ¬¡æ‰§è¡ŒonBindViewHodleræ“ä½œã€‚</p>

        <h1 id="RecycleViewæ›´æ–°">
          <a href="#RecycleViewæ›´æ–°" class="heading-link"><i class="fas fa-link"></i></a><a href="#RecycleViewæ›´æ–°" class="headerlink" title="RecycleViewæ›´æ–°"></a>RecycleViewæ›´æ–°</h1>
      <p>éœ€è¦è·Ÿæ–°å¾—æ—¶å€™ï¼Œä¼šæŠŠæ•°æ®åŠ åˆ°ï¼šmPendingUpdatesé‡Œé¢ã€‚</p>
<p>mAdapterUpdateDuringMeasure = true</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/12/Recycleview%E5%9F%BA%E4%BA%8ELinearLayoutManager%E7%9A%84%E5%88%9D%E6%AC%A1%E5%B8%83%E5%B1%80/">RecycleviewåŸºäºLinearLayoutManagerçš„åˆæ¬¡å¸ƒå±€</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-12</span></span></div></header><div class="post-body"><div class="post-excerpt"><blockquote>
<p>çœ‹äº†Recycleviewä»£ç åä½ ä¼šå‘ç°RecycleviewçœŸçš„ç‰›é€¼ï¼Œä»–åœ¨onLayouté‡Œé¢é€šè¿‡detachViewFromParentå°†å…¨éƒ¨çš„å­viewå…¨éƒ¨ä»recycleviewé‡Œé¢ç§»é™¤ï¼Œç”¨è¿™ä¸ªæ–¹æ³•ä¼šä¸è§¦å‘requestLayoutã€‚ç„¶åæ·»åŠ viewç”¨çš„æ˜¯addViewï¼Œç”¨addViewä¼šè§¦å‘requestLayoutå‘€ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆæ¯æ¬¡addViewã€‚Recycleviewéƒ½æ²¡æœ‰æ‰§è¡ŒonLayoutå‘¢ã€‚åŸå› æ˜¯recycleviewé‡å†™äº†requetLayoutæ–¹æ³•ã€‚ç»ç»å­ã€‚ã€‚</p>
</blockquote>
<p>&nbsp;&nbsp;&nbsp;&nbsp;è®²åˆ°å¸ƒå±€é‚£ä¹ˆå°±è¦å…ˆè¿›å…¥åˆ°<code>Recycleview</code>çš„<code>onLayout</code>æ–¹æ³•ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Recycleview</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onLayout</span><span class="params">(<span class="keyword">boolean</span> changed, <span class="keyword">int</span> l, <span class="keyword">int</span> t, <span class="keyword">int</span> r, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    TraceCompat.beginSection(TRACE_ON_LAYOUT_TAG);</span><br><span class="line">    dispatchLayout();</span><br><span class="line">    TraceCompat.endSection();</span><br><span class="line">    mFirstLayoutComplete = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å¸ƒå±€çš„æ—¶å€™è°ƒç”¨äº†<code>dispatchLayout</code>æ–¹æ³•ã€‚åœ¨çœ‹æºç çš„æ—¶å€™å¯ä»¥å‘ç°ï¼Œ<code>dispatchLayout</code>æ–¹æ³•åˆè¢«åˆ†æˆäº†<code>dispatchLayoutStep1</code><code>dispatchLayoutStep2</code><code>dispatchLayoutStep3</code>ã€‚åœ¨é¦–æ¬¡å¸ƒå±€å®Œæˆå<code>Recycleview</code>ä¼šå°†<code>mFirstLayoutComplete</code>è®¾ç½®ä¸ºtrueã€‚è¿™é‡Œæœ€ç»ˆçš„å®Œæˆå¸ƒå±€çš„æ“ä½œéƒ½åœ¨<code>dispatchLayoutStep2</code>æ–¹æ³•ã€‚</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;æ¥çœ‹ä¸‹<code>dispatchLayoutStep2</code>ï¼šæœ€ä¸»è¦æ˜¯è°ƒç”¨äº†æˆ‘ä»¬çš„LayoutManagerçš„<code>onLayoutChildren</code>æ–¹æ³•ã€‚å®Œæˆé¡µé¢çš„å¸ƒå±€ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dispatchLayoutStep2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        mLayout.onLayoutChildren(mRecycler, mState);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LinearLayoutManager</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onLayoutChildren</span><span class="params">(RecyclerView.Recycler recycler, RecyclerView.State state)</span> </span>&#123;</span><br><span class="line">    detachAndScrapAttachedViews(recycler);</span><br><span class="line">    updateLayoutStateToFillEnd(mAnchorInfo);</span><br><span class="line">    fill(recycler, mLayoutState, state, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;ä»£ç ä¸€åˆ ï¼Œå…³é”®ä»£ç å°±è¿™äº›ã€‚</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;å…ˆæ¥çœ‹ä¸‹è¿™ä¸ª<code>detechAndScrapAttachedViews</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çœ‹åä¹‹æ„å°±æ˜¯ä»çˆ¶è§†å›¾åˆ†ç¦»æ‰å…¨éƒ¨çš„å­viewã€‚å†…éƒ¨è°ƒç”¨äº†ViewGroup.detachViewFromParentæ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç§»é™¤æ“ä½œã€‚ä¸ä¼šè§¦å‘é¡µé¢çš„requestLayoutæ“ä½œã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Recycleview</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">detachAndScrapAttachedViews</span><span class="params">(<span class="meta">@NonNull</span> Recycler recycler)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> childCount = getChildCount();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = childCount - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">final</span> View v = getChildAt(i);</span><br><span class="line">        scrapOrRecycleView(recycler, i, v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">scrapOrRecycleView</span><span class="params">(Recycler recycler, <span class="keyword">int</span> index, View view)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">final</span> ViewHolder viewHolder = getChildViewHolderInt(view);</span><br><span class="line">     <span class="comment">// isInvalidï¼šè¿™æ˜¯è§†å›¾æ˜¯å¦è¿˜æœ‰ç”¨ï¼Œæ²¡ç”¨çš„è¯ç›´æ¥èµ°removeæ“ä½œï¼Œå½»åº•çˆ¶è§†å›¾åˆ æ‰       </span></span><br><span class="line">     <span class="keyword">if</span> (viewHolder.isInvalid() &amp;&amp; !viewHolder.isRemoved()</span><br><span class="line">                    &amp;&amp; !mRecyclerView.mAdapter.hasStableIds()) &#123;</span><br><span class="line">                removeViewAt(index);</span><br><span class="line">                recycler.recycleViewHolderInternal(viewHolder);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="comment">// ä¸€èˆ¬éƒ½èµ°è¿™é‡Œ</span></span><br><span class="line">       <span class="comment">// æœ€ç»ˆèµ°çš„æ˜¯RecyclerView.this.detachViewFromParent(offset);</span></span><br><span class="line">       <span class="comment">// è¿™æ˜¯è½»é‡çº§çš„ç§»é™¤ï¼Œä¸ä¼šè§¦å‘requestLayoutæ“ä½œ</span></span><br><span class="line">                detachViewAt(index);</span><br><span class="line">       <span class="comment">// å°†viewæ·»åŠ åˆ°Recyclerçš„mAttachedScrapæ•°ç»„é‡Œé¢ã€‚</span></span><br><span class="line">    <span class="comment">// mAttachedScrapæ‰§è¡Œaddæ“ä½œæ˜¯åœ¨detachAndScrapAttachedViewsæ–¹æ³•é‡Œé¢ã€‚è€Œè¿™ä¸ªæ–¹æ³•åˆåªä¼šåœ¨LinearLayoutManagerçš„</span></span><br><span class="line">    <span class="comment">//onLayoutChildrenæ–¹æ³•é‡Œæ‰ä¼šè¢«è°ƒç”¨ã€‚è€ŒonLayoutChildrenæ–¹æ³•åˆåªä¼šåœ¨Recycleviewçš„onLayoutæ–¹æ³•è¢«è°ƒç”¨ã€‚è€Œè¦è§¦å‘</span></span><br><span class="line">    <span class="comment">//onLayoutæ–¹æ³•å°±è¦è§¦å‘requestLayoutæ–¹æ³•ã€‚ä¸ç„¶è¿™ä¸ªmAttachedScrapçš„å€¼å°±ä¸€ç›´ä¸ºç©ºã€‚</span></span><br><span class="line">                recycler.scrapView(view);</span><br><span class="line">                mRecyclerView.mViewInfoStore.onViewDetached(viewHolder);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">detachViewAt</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">            detachViewInternal(index, getChildAt(index));</span><br><span class="line">        &#125;</span><br><span class="line"> <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">detachViewInternal</span><span class="params">(<span class="keyword">int</span> index, <span class="meta">@NonNull</span> View view)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (DISPATCH_TEMP_DETACH) &#123;</span><br><span class="line">                ViewCompat.dispatchStartTemporaryDetach(view);</span><br><span class="line">            &#125;</span><br><span class="line">     <span class="comment">//æœ€ç»ˆèµ°çš„æ˜¯RecyclerView.this.detachViewFromParent(offset);ä¸ä¼šè§¦å‘requestLayout</span></span><br><span class="line">            mChildHelper.detachViewFromParent(index);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æ¥çœ‹ä¸‹<code>updateLayoutStateToFillEnd</code>æ–¹æ³•ã€‚çœ‹åçŸ¥æ„å°±æ˜¯æ›´æ–°LayoutStateçš„ä¿¡æ¯ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateLayoutStateToFillEnd</span><span class="params">(AnchorInfo anchorInfo)</span> </span>&#123;</span><br><span class="line">    updateLayoutStateToFillEnd(anchorInfo.mPosition, anchorInfo.mCoordinate);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateLayoutStateToFillEnd</span><span class="params">(<span class="keyword">int</span> itemPosition, <span class="keyword">int</span> offset)</span> </span>&#123;</span><br><span class="line">    mLayoutState.mAvailable = mOrientationHelper.getEndAfterPadding() - offset;</span><br><span class="line">    mLayoutState.mItemDirection = mShouldReverseLayout ? LayoutState.ITEM_DIRECTION_HEAD :</span><br><span class="line">            LayoutState.ITEM_DIRECTION_TAIL;</span><br><span class="line">    mLayoutState.mCurrentPosition = itemPosition;</span><br><span class="line">    mLayoutState.mLayoutDirection = LayoutState.LAYOUT_END;</span><br><span class="line">    mLayoutState.mOffset = offset;</span><br><span class="line">    mLayoutState.mScrollingOffset = LayoutState.SCROLLING_OFFSET_NaN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¸ªé‡Œé¢å‡ºç°äº†å¾ˆé‡è¦çš„å‡ ä¸ªå‚æ•°ä¿¡æ¯ï¼š</p>
<ul>
<li>LayoutState.mAvailableï¼šå®˜æ–¹è§£é‡Šæ˜¯ï¼šåœ¨å¸ƒå±€æ”¾å‘ä¸Šï¼Œæˆ‘ä»¬åº”è¯¥å¡«å……çš„åƒç´ æ•°ã€‚è¿™ä¸ªå‚æ•°åœ¨ç¬¬ä¸€æ¬¡å¸ƒå±€çš„æ—¶å€™è¢«èµ‹å€¼ä¸ºrecycleviewçš„é«˜åº¦ã€‚ç„¶ååœ¨æ»‘åŠ¨çš„æ—¶å€™è¿™ä¸ªå€¼ = æ»‘åŠ¨é‡ - æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºå‡ºæ¥éœ€è¦çš„é‡ã€‚</li>
<li>LayoutState.mScrollingOffsetï¼šå®˜æ–¹è§£é‡Šæ˜¯ï¼šåœ¨æ»šåŠ¨çš„æ—¶å€™ï¼Œåœ¨ä¸åˆ›å»ºæ–°è§†å›¾çš„æƒ…å†µä¸‹çš„æ»šåŠ¨é‡ã€‚è¿™ä¸ªå€¼åœ¨ç¬¬ä¸€æ¬¡å¸ƒå±€çš„æ—¶å€™ç­‰äºä¸€ä¸ªå›ºå®šå€¼ã€‚ç„¶ååœ¨æ»šåŠ¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼èµ·åˆ°äº†ç¡®å®šå“ªäº›viewåº”è¯¥è¢«å›æ”¶çš„ä½œç”¨ã€‚</li>
</ul>
<div align="center"><img src="/2021/11/12/Recycleview%E5%9F%BA%E4%BA%8ELinearLayoutManager%E7%9A%84%E5%88%9D%E6%AC%A1%E5%B8%83%E5%B1%80/å›¾4.png" alt="img-0" style="zoom: 50%;"></div>

<p>&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨è¿›å…¥<code>fill</code>æ–¹æ³•ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fill</span><span class="params">(RecyclerView.Recycler recycler, LayoutState layoutState,</span></span></span><br><span class="line"><span class="params"><span class="function">        RecyclerView.State state, <span class="keyword">boolean</span> stopOnFocusable)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> start = layoutState.mAvailable;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªmScrollingOffsetçš„å€¼åœ¨è§¦å‘æ»‘åŠ¨çš„æ—¶å€™ä¼šè¢«èµ‹å€¼ä¸º </span></span><br><span class="line">    <span class="comment">// æœ€åä¸€ä¸ªviewå…¨éƒ¨å±•ç¤ºåœ¨å±å¹•ä¸Šéœ€è¦çš„è·ç¦»</span></span><br><span class="line">    <span class="comment">// mScrollingOffsetçš„å€¼åªæœ‰åœ¨æ»‘åŠ¨çš„æ—¶å€™æ‰ä¼šèµ‹å€¼</span></span><br><span class="line">    <span class="keyword">if</span> (layoutState.mScrollingOffset != LayoutState.SCROLLING_OFFSET_NaN) &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œé¢åªä¼šåœ¨æ»šåŠ¨çš„æ—¶å€™æ‰ä¼šè°ƒç”¨ã€‚</span></span><br><span class="line">        <span class="comment">// å°äº0ä»£è¡¨ï¼Œè¿™æ¬¡çš„æ»‘åŠ¨ä¸è¶³ä»¥è®©æœ€ä¸‹é¢çš„è§†å›¾å…¨éƒ¨å±•ç¤ºå‡ºæ¥ï¼Œ</span></span><br><span class="line">        ä¹Ÿå°±è¯´æ˜ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ·»åŠ æ–°çš„viewåˆ°çˆ¶è§†å›¾é‡Œé¢æ¥ã€‚</span><br><span class="line">        <span class="keyword">if</span> (layoutState.mAvailable &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å½“å°äº0çš„æ—¶å€™è¿™ä¸€æ­¥éª¤çš„æ“ä½œæ— å¼‚äºå°±æ˜¯è®© mScrollingOffsetçš„å€¼ ç­‰äº è¿™æ¬¡æ»‘åŠ¨çš„å€¼ã€‚</span></span><br><span class="line">            layoutState.mScrollingOffset += layoutState.mAvailable;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™æ˜¯å›æ”¶é‚£äº›ä¸å¯è§çš„è§†å›¾ã€‚è¿™ä¸ªæ–¹æ³•å¾ˆé‡è¦ï¼Œå›æ”¶çš„æ“ä½œå°±åœ¨è¿™é‡Œè¿›è¡Œçš„ã€‚</span></span><br><span class="line">        <span class="comment">// å›æ”¶çš„æ¡ä»¶å°±æ˜¯ä¸Šé¢çš„mScrollingOffsetè¿™ä¸ªæ–¹æ³•ï¼Œåœ¨å›æ”¶çš„æ—¶å€™æœ‰ä¸€ä¸ªåŸºå‡†çº¿limit ä»–çš„å€¼ç­‰äº mScrollingOffset</span></span><br><span class="line">        <span class="comment">// ç„¶åä¼šå¾ªç¯éå†recycleviewæ‰€æœ‰çš„å­view,æ‰¾åˆ°å­©å­viewåº•éƒ¨è·ç¦»é¡¶éƒ¨çš„å€¼ &gt; limit çš„æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„viewã€‚ç„¶åå°†ä»–ä»¬</span></span><br><span class="line">        <span class="comment">// ä»çˆ¶è§†å›¾è¿›è¡Œç§»é™¤ã€‚ å…·ä½“è®²è§£å‚è€ƒæˆ‘çš„åšå®¢ï¼š ã€ŠRecycleviewå›æ”¶åŸç†åˆ†æã€‹</span></span><br><span class="line">        recycleByLayoutState(recycler, layoutState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> remainingSpace = layoutState.mAvailable + layoutState.mExtraFillSpace;</span><br><span class="line">    LayoutChunkResult layoutChunkResult = mLayoutChunkResult;</span><br><span class="line">    <span class="comment">// remainSpace &gt; 0 è¡¨ç¤º æœ‰å¯ç”¨ç©ºé—´å¯ä»¥ä½¿ç”¨ï¼Œé‚£ä¹ˆä¸ºäº†å¡«è¡¥è¿™ä¸ªå¯ç”¨ç©ºé—´ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‰§è¡ŒaddVieæ“ä½œï¼Œä¸ç„¶æ€ä¹ˆå¡«è¡¥è¿™éƒ¨åˆ†ç©ºé—´ï¼Œ</span></span><br><span class="line">    <span class="comment">// ä½ è¯´æ˜¯å§ã€‚ æ·»åŠ ç»“æŸçš„æ ‡å¿—å°±æ˜¯ å¯ç”¨ç©ºé—´è¢«å¡«æ»¡ã€‚</span></span><br><span class="line">    <span class="keyword">while</span> ((layoutState.mInfinite || remainingSpace &gt; <span class="number">0</span>) &amp;&amp; layoutState.hasMore(state)) &#123;</span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯åŠ è½½ä¸€ä¸ªå­view</span></span><br><span class="line">        layoutChunk(recycler, state, layoutState, layoutChunkResult);</span><br><span class="line">        <span class="keyword">if</span> (layoutChunkResult.mFinished) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        layoutState.mOffset += layoutChunkResult.mConsumed * layoutState.mLayoutDirection;</span><br><span class="line">        <span class="comment">// mIgnoreConsumedçœ‹åä¹‹æ„ï¼šå¿½ç•¥æ¶ˆè€—ã€‚ä¸€èˆ¬éƒ½ä¸ä¼šå¿½ç•¥ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!layoutChunkResult.mIgnoreConsumed || layoutState.mScrapList != <span class="keyword">null</span></span><br><span class="line">                || !state.isPreLayout()) &#123;</span><br><span class="line">        <span class="comment">// layoutChunkResult.mConsumed çš„å€¼å°±ç­‰äº ä¸€ä¸ªitemViewæ‰€éœ€è¦æ¶ˆè€—çš„é«˜åº¦ã€‚</span></span><br><span class="line">            layoutState.mAvailable -= layoutChunkResult.mConsumed;</span><br><span class="line">            remainingSpace -= layoutChunkResult.mConsumed;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿™ä¸€æ®µå’Œä¸Šé¢é‚£ä¸€æ®µä»£ç ä¸€æ ·ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (layoutState.mScrollingOffset != LayoutState.SCROLLING_OFFSET_NaN) &#123;</span><br><span class="line">            layoutState.mScrollingOffset += layoutChunkResult.mConsumed;</span><br><span class="line">            <span class="keyword">if</span> (layoutState.mAvailable &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// è¿™ä¸€æ­¥çš„æ“ä½œæ— ç–‘å°±æ˜¯è®©mScrollingOffsetçš„å€¼ = è¿™æ¬¡ç§»åŠ¨çš„å€¼ã€‚</span></span><br><span class="line">                layoutState.mScrollingOffset += layoutState.mAvailable;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å›æ”¶é‚£äº›viewåº•éƒ¨è·ç¦»recycleviewé¡¶éƒ¨çš„å€¼ å¤§äº è¿™æ¬¡æ»‘åŠ¨çš„å€¼çš„é¡µé¢ã€‚</span></span><br><span class="line">            recycleByLayoutState(recycler, layoutState);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stopOnFocusable &amp;&amp; layoutChunkResult.mFocusable) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å½“æˆ‘ä»¬è¿˜æœ‰å¯ä»¥å±•ç¤ºçš„æ›´è¿‡çš„å­©å­çš„æ—¶å€™è¿™ä¸ªmAvailableçš„å€¼ä¸€å®šæ˜¯è´Ÿæ•°çš„ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> start - layoutState.mAvailable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æ¥çœ‹ä¸‹<code>layoutChunk</code>æ–¹æ³•ï¼Œçœ‹ä»–æ˜¯æ€ä¹ˆæ·»åŠ ä¸€ä¸ªå­©å­è¿›å»çš„ã€‚</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LinearLayoutManager</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">layoutChunk</span><span class="params">(RecyclerView.Recycler recycler, RecyclerView.State state,</span></span></span><br><span class="line"><span class="params"><span class="function">        LayoutState layoutState, LayoutChunkResult result)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// nextï¼šå°±æ˜¯ä»RecycleViewçš„ç¼“å­˜å­˜é‡Œé¢å–å¾—ã€‚è¿™ä¸ªçœ‹æˆ‘å¾—åšå®¢ï¼šã€ŠRecycleviewå›æ”¶åŸç†åˆ†æã€‹</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œæˆ‘å°±åˆ†æå·²ç»æ‹¿å‡ºæ¥äº†ã€‚</span></span><br><span class="line">    View view = layoutState.next(recycler);</span><br><span class="line">    <span class="keyword">if</span> (view == <span class="keyword">null</span>) &#123;</span><br><span class="line">        result.mFinished = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) view.getLayoutParams();</span><br><span class="line">    <span class="keyword">if</span> (layoutState.mScrapList == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mShouldReverseLayout == (layoutState.mLayoutDirection</span><br><span class="line">                == LayoutState.LAYOUT_START)) &#123;</span><br><span class="line">            addView(view);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            addView(view, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (mShouldReverseLayout == (layoutState.mLayoutDirection</span><br><span class="line">                == LayoutState.LAYOUT_START)) &#123;</span><br><span class="line">            addDisappearingView(view);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            addDisappearingView(view, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    measureChildWithMargins(view, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    result.mConsumed = mOrientationHelper.getDecoratedMeasurement(view);</span><br><span class="line">    <span class="keyword">int</span> left, top, right, bottom;</span><br><span class="line">    <span class="keyword">if</span> (mOrientation == VERTICAL) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isLayoutRTL()) &#123;</span><br><span class="line">            right = getWidth() - getPaddingRight();</span><br><span class="line">            left = right - mOrientationHelper.getDecoratedMeasurementInOther(view);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = getPaddingLeft();</span><br><span class="line">            right = left + mOrientationHelper.getDecoratedMeasurementInOther(view);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (layoutState.mLayoutDirection == LayoutState.LAYOUT_START) &#123;</span><br><span class="line">            bottom = layoutState.mOffset;</span><br><span class="line">            top = layoutState.mOffset - result.mConsumed;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            top = layoutState.mOffset;</span><br><span class="line">            bottom = layoutState.mOffset + result.mConsumed;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        top = getPaddingTop();</span><br><span class="line">        bottom = top + mOrientationHelper.getDecoratedMeasurementInOther(view);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (layoutState.mLayoutDirection == LayoutState.LAYOUT_START) &#123;</span><br><span class="line">            right = layoutState.mOffset;</span><br><span class="line">            left = layoutState.mOffset - result.mConsumed;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = layoutState.mOffset;</span><br><span class="line">            right = layoutState.mOffset + result.mConsumed;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    layoutDecoratedWithMargins(view, left, top, right, bottom);</span><br><span class="line">    <span class="keyword">if</span> (params.isItemRemoved() || params.isItemChanged()) &#123;</span><br><span class="line">        result.mIgnoreConsumed = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    result.mFocusable = view.hasFocusable();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addView</span><span class="params">(View child)</span> </span>&#123;</span><br><span class="line">     addView(child, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addView</span><span class="params">(View child, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">            addViewInt(child, index, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addViewInt</span><span class="params">(View child, <span class="keyword">int</span> index, <span class="keyword">boolean</span> disappearing)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">final</span> ViewHolder holder = getChildViewHolderInt(child);</span><br><span class="line">            <span class="keyword">if</span> (disappearing || holder.isRemoved()) &#123;</span><br><span class="line">                mRecyclerView.mViewInfoStore.addToDisappearedInLayout(holder);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mRecyclerView.mViewInfoStore.removeFromDisappearedInLayout(holder);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">final</span> LayoutParams lp = (LayoutParams) child.getLayoutParams();</span><br><span class="line">            <span class="keyword">if</span> (holder.wasReturnedFromScrap() || holder.isScrap()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (holder.isScrap()) &#123;</span><br><span class="line">                    holder.unScrap();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    holder.clearReturnedFromScrapFlag();</span><br><span class="line">                &#125;</span><br><span class="line">                mChildHelper.attachViewToParent(child, index, child.getLayoutParams(), <span class="keyword">false</span>);</span><br><span class="line">                <span class="keyword">if</span> (DISPATCH_TEMP_DETACH) &#123;</span><br><span class="line">                    ViewCompat.dispatchFinishTemporaryDetach(child);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (child.getParent() == mRecyclerView) &#123; <span class="comment">// it was not a scrap but a valid child</span></span><br><span class="line">                <span class="comment">// ensure in correct position</span></span><br><span class="line">                <span class="keyword">int</span> currentIndex = mChildHelper.indexOfChild(child);</span><br><span class="line">                <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">                    index = mChildHelper.getChildCount();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (currentIndex != index) &#123;</span><br><span class="line">                    mRecyclerView.mLayout.moveView(currentIndex, index);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ‰§è¡Œäº†Recycleview.addViewæ“ä½œã€‚</span></span><br><span class="line">                mChildHelper.addView(child, index, <span class="keyword">false</span>);</span><br><span class="line">                lp.mInsetsDirty = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (mSmoothScroller != <span class="keyword">null</span> &amp;&amp; mSmoothScroller.isRunning()) &#123;</span><br><span class="line">                    mSmoothScroller.onChildAttachedToWindow(child);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (lp.mPendingInvalidate) &#123;</span><br><span class="line">                holder.itemView.invalidate();</span><br><span class="line">                lp.mPendingInvalidate = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></div></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;åœ¨layoutChunké‡Œé¢é€šè¿‡addViewæ“ä½œå°†å­viewæ·»åŠ è¿›å»äº†ã€‚</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/">è€å©†åŠ æ²¹-10</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-16</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <p>ä»Šå¤©æ˜¯å¥¹æœ‹å‹çš„å©šç¤¼ã€‚æ—©ä¸Š4.20å°±èµ·æ¥äº†ã€‚</p>
<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾1.png" alt="img-0" style="zoom: 50%;"></div>

<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾1.jpg" alt="img-0" style="zoom: 30%;"></div>

<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾2.jpg" alt="img-0" style="zoom: 30%;"></div>

<p>è€å©†è¿˜æåˆ°äº†ä¸å°‘çº¢åŒ…ï¼š</p>
<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾3.jpg" alt="img-0" style="zoom: 30%;"></div>


        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾8.jpg" alt="img-0" style="zoom: 30%;"></div>


        <h1 id="ä¸‹åˆ">
          <a href="#ä¸‹åˆ" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹åˆ" class="headerlink" title="ä¸‹åˆ"></a>ä¸‹åˆ</h1>
      <p>è¦äº†ä¸€å¤©çš„ç…§ç‰‡ï¼Œç»ˆäºè¦åˆ°äº†å‡ å¼ 555555555555555555555</p>
<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾5.jpg" alt="img-0" style="zoom: 30%;"></div>

<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾7.jpg" alt="img-0" style="zoom: 30%;"></div>

<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾4.jpg" alt="img-0" style="zoom: 30%;"></div>

<p>æ–°å¨˜äº¤ç»™äº†è€å©†ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ï¼Œé€ç»“å©šæˆ’æŒ‡</p>
<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾6.jpg" alt="img-0" style="zoom: 30%;"></div>


        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <p>è€å©†ç»™æˆ‘è®²ï¼Œæœ‰ä¸€ä¸ªå°å¥³å­©å¤¸å¥¹å¥½ç™½ã€‚å“ˆå“ˆã€‚</p>
<div align="center"><img src="/2021/11/12/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-10/å›¾2.png" alt="img-0" style="zoom: 30%;"></div>

<p>æ™šä¸Šè€å©†è¯´æ²¡åƒå¤šå°‘ã€‚</p>
<p>æ™šä¸Š10ç‚¹20æ‰åˆ°å®¶ï¼Œåœ¨å¤–è·‘äº†ä¸€å¤©äº†ï¼Œç´¯æ­»äº†éƒ½ã€‚å¿ƒç–¼ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚çœŸçš„ç´¯åäº†ã€‚</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/">è€å©†åŠ æ²¹-9</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-11</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-12</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <div align="center"><img src="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/å›¾1.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ä½“é‡å¿«å›åˆ°78äº†ã€‚</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>






        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <p>æ™šé¥­åƒäº†ä¸€æ¯è›‹ç‚’é¥­ã€‚</p>
<p>æ™šä¸Šå»å‚åŠ å¥¹æœ‹å‹çš„å©šç¤¼ï¼Œæ™šä¸Šè¯•ç©¿è¡£æœä¸å¤Ÿå¤§ï¼Œå“ˆå“ˆã€‚</p>
<div align="center"><img src="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/å›¾4.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/11/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-9/å›¾5.jpg" alt="img-0" style="zoom: 20%;"></div>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/">è€å©†åŠ æ²¹-8</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-11</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾1.jpg" alt="img-0" style="zoom: 20%;"></div>


        <h4 id="ä¸‹78äº†ã€‚">
          <a href="#ä¸‹78äº†ã€‚" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹78äº†ã€‚" class="headerlink" title="ä¸‹78äº†ã€‚"></a>ä¸‹78äº†ã€‚</h4>
      
        <h4 id="ä¸‹78äº†ã€‚-1">
          <a href="#ä¸‹78äº†ã€‚-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹78äº†ã€‚-1" class="headerlink" title="ä¸‹78äº†ã€‚"></a>ä¸‹78äº†ã€‚</h4>
      
        <h4 id="ä¸‹78äº†ã€‚-2">
          <a href="#ä¸‹78äº†ã€‚-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹78äº†ã€‚-2" class="headerlink" title="ä¸‹78äº†ã€‚"></a>ä¸‹78äº†ã€‚</h4>
      
        <h4 id="ä¸‹78äº†ã€‚-3">
          <a href="#ä¸‹78äº†ã€‚-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹78äº†ã€‚-3" class="headerlink" title="ä¸‹78äº†ã€‚"></a>ä¸‹78äº†ã€‚</h4>
      
        <h4 id="ä¸‹78äº†ã€‚-4">
          <a href="#ä¸‹78äº†ã€‚-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸‹78äº†ã€‚-4" class="headerlink" title="ä¸‹78äº†ã€‚"></a>ä¸‹78äº†ã€‚</h4>
      <p>æ—©é¥­ç»§ç»­ç¾å‘³çš„èœæ³¡é¥­ã€‚è¿˜ä¸ç»™æˆ‘æ‹ã€‚ğŸ˜•</p>
<div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>


        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>




        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾4.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>æ™šä¸Šæ‰“äº†ä¸‰æŠŠç‹è€…ï¼Œè¿èƒœ4åœºï¼Œèµ¢å¾—å¤ªçˆ½äº†ã€‚</p>
<p>ä»Šæ™šåŒåä¸€ï¼Œè€å©†ç»™å¦¹å¦¹ä¹°äº†ä¿æ¸©æ¯ï¼š</p>
<div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾5.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾6.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ç»™è‡ªå·±ä¹°äº†å”‡è†ã€‚</p>
<div align="center"><img src="/2021/11/10/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-8/å›¾7.jpg" alt="img-0" style="zoom: 20%;"></div>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/">è€å©†åŠ æ²¹-7</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-09</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-10</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <div align="center"><img src="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/å›¾1.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ç˜¦äº†ç˜¦äº†ã€‚ã€‚ã€‚æœ‰æ•ˆæœ</p>
<div align="center"><img src="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>èœæ³¡é¥­ã€‚</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/å›¾5.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ç”±äºç±³é¥­è¿‡é»„ï¼Œè€å©†å¯¹ä»–äº§ç”Ÿäº†åŒæ¶æ„Ÿï¼Œå°±æ²¡åƒå¤šå°‘ã€‚éš¾ä¸ºè€å©†äº†ã€‚</p>

        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <div align="center"><img src="/2021/11/09/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-7/å›¾6.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>è€å©†ä»Šå¤©ä¸€å¤©çš„æ‘„å…¥é‡å ªç§°çœŸçš„å°‘ï¼ŒæœŸå¾…ç¬¬äºŒå¤©çš„æµ‹é‡ä½“é‡ã€‚ã€‚ã€‚ã€‚ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/">è€å©†åŠ æ²¹-6</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-08</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-10</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©é¥­">
          <a href="#æ—©é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©é¥­" class="headerlink" title="æ—©é¥­"></a>æ—©é¥­</h1>
      <div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾1.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ä¸€ä¸ªèœåŒ… ä¸€ä¸ªçƒ§å– ä¸€ç“¶ä¹³å“ã€‚</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾4.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>åƒçš„è´¼å¥åº·ã€‚</p>
<p>åˆ°äº†ä¸‹åˆè‚šå­é¥¿äº†ã€‚</p>
<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾5.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>æœ¬æ¥æƒ³åƒè¿™ä¸ªçš„ã€‚ä½†æ˜¯è°çŸ¥è¿‡æœŸäº†ã€‚</p>
<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾6.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>åæ¥åƒäº†ç‡•éº¦éº¸çš®ã€‚</p>
<p>æˆ‘ä»¬ä¹°äº†ä¸€ä¸ªç«é”…ã€‚å‡†å¤‡å‘¨æœ«åƒç«é”…ã€‚å¼€å¿ƒã€‚æœŸå¾…ã€‚ã€‚ã€‚ã€‚</p>
<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾7.jpg" alt="img-0" style="zoom: 20%;"></div>


        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾8.jpg" alt="img-0" style="zoom: 20%;"></div>

<div align="center"><img src="/2021/11/08/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-6/å›¾9.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>è€å©†è´¼å¥åº·çš„ä¸€å¤©ç»“æŸäº†ã€‚</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/11/07/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-5/">è€å©†åŠ æ²¹-5</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">å‘è¡¨äº</span><span class="post-meta-item__value">2021-11-07</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">æ›´æ–°äº</span><span class="post-meta-item__value">2021-11-08</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="æ—©ä¸Š">
          <a href="#æ—©ä¸Š" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ—©ä¸Š" class="headerlink" title="æ—©ä¸Š"></a>æ—©ä¸Š</h1>
      <div align="center"><img src="/2021/11/07/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-5/å›¾2.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>ä»Šå¤©æ—©ä¸Šåƒçš„æ˜¯æ¡‚åœ†è‚‰ç…®é¸¡è›‹2ä¸ªï¼Œæ²¡æœ‰åŠ ç³–å“¦!</p>
<div align="center"><img src="/2021/11/07/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-5/å›¾ä¸€.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>æ—©ä¸Šæˆ‘ä»¬åœ¨ä¸‡å®‰æ¡¥ç¢°å¤´ï¼Œä¸€èµ·çº¦å¥½å»æµ™äºŒçœ‹ç—…ï¼Œæˆ‘æ—©æ—©çš„å°±åˆ°äº†ï¼Œç­‰äº†å­™æ™¨æ™¨20åˆ†é’Ÿï¼Œæˆ‘ç„¦æ€¥çš„ç­‰å¾…ç€é˜¿å§¨çš„åˆ°æ¥ï¼Œç»ˆäºåœ¨9ç‚¹çš„æ—¶å€™ç­‰åˆ°äº†ä»–ä»¬ï¼Œå“‡ï¼Œä»Šå¤©çš„å­™æ™¨æ™¨ä¹Ÿå¤ªå¥½çœ‹äº†å§~ç„¶åæˆ‘ä»¬è¿›å»åŒ»é™¢é‡Œäº†ã€‚å…ˆç»™é˜¿å§¨å»çœ‹ç—…ï¼Œçœ‹å®Œç—…ä¹‹åé˜¿å§¨éè¦é›·å‰é£è¡Œçš„ç»™æˆ‘å»ä¹°ç‚¹åƒçš„ã€‚åœ¨æˆ‘å’Œå­™æ™¨æ™¨çš„æåŠ›é˜»æ­¢ä¸‹ï¼Œé˜¿å§¨åœæ‰‹äº†ï¼Œåªä¹°äº†ä¸ªè¥¿ç“œå°±å–„ç½¢ç”˜ä¼‘æ¥äº†ã€‚ç„¶åæˆ‘ä»¬å°†é˜¿å§¨é€åˆ°åœ°é“ç«™ï¼Œé˜¿å§¨è„šæ­¥ä¹Ÿå¤ªå¿«äº†ã€‚å­™æ™¨æ™¨æ ¹æœ¬è·Ÿä¸ä¸Šé˜¿å§¨çš„æ­¥ä¼ï¼Œç„¶åä¸€ç›´ä¿æŒç€é˜¿å§¨åœ¨å‰é¢å¸¦è·¯æˆ‘åœ¨åé¢æ‹‰ç€å­™æ™¨æ™¨èµ°è·¯ï¼Œä»Šå¤©çš„å¤©æ°”å¥½çƒ­å•Šï¼Œç­‰èµ°åˆ°åœ°é“ç«™çš„æ—¶å€™æˆ‘ä»¬ä¿©å·²ç»æ»¡å¤´å¤§æ±—äº†ã€‚å°†é˜¿å§¨é€ä¸Šåœ°é“ä¹‹åï¼Œæˆ‘å’Œå­™æ™¨æ™¨åˆèµ°äº†å›å»ç­‰æˆ‘çœ‹è„šï¼Œä¸€çœ¨çœ¼åˆåˆ°äº†åŒ»é™¢ï¼Œå“‡~ä»Šå¤©éª¨ç§‘çš„äººçœŸçš„å¾ˆå¤šï¼Œæˆ‘ä»¬ç­‰å¾…äº†å¾ˆä¹…ï¼Œæ‰“äº† å¥½å‡ æŠŠæ¸¸æˆæ‰è½®åˆ°æˆ‘ä»¬ï¼Œå­™æ™¨æ™¨ä»è¿™ä¸ªæ—¶å€™å°±å¼€å§‹å–Šé¥¿äº†ï¼Œè§äº†åŒ»ç”Ÿä¹‹åè¯´åœ¨ä¸å½±å“æ­£å¸¸ç”Ÿæ´»çš„æƒ…å†µä¸‹æ²¡æœ‰å¿…è¦è¿›è¡Œæ‰‹æœ¯æ²»ç–—ï¼Œè¿™ç­‰äºæ˜¯ç»™æˆ‘ä»¬åƒäº†ä¸€é¢—å®šå¿ƒä¸¸ï¼Œå°†æ‹…å¿ƒæ”¾ä¸‹äº†ã€‚è·ŸåŒ»ç”Ÿè¯´è¦å»æŸ¥éªŒä¸€ä¸‹å°¿é…¸å’Œé£æ¹¿ç±»çš„æ£€æŸ¥ï¼Œä»Šå¤©æŠ½è¡€çš„äººä¹Ÿå¥½å¤šï¼ŒæŠ½è¡€çš„çª—å£å°±ä¸¤ä¸‰ä¸ªï¼Œæƒ³å¿…æ£€éªŒç§‘çš„åŒ»ç”Ÿéƒ½å»åƒé¥­äº†å§ï¼Œå±Šæ—¶å­™æ™¨æ™¨ä¸€ç›´åœ¨ä¸åœçš„å–Šé¥¿ï¼Œæˆ‘çš„å¿ƒé‡Œä¹Ÿå¾ˆéš¾è¿‡ï¼Œä¸èƒ½å¥½å¥½çš„ç…§é¡¾å­™æ™¨æ™¨ï¼Œç­‰äº†ä¸€ä¸ªéƒ½å¤šå°æ—¶ä¹‹åï¼Œç»ˆäºæŠ½å®Œè¡€äº†ã€‚æˆ‘ä»¬è¦å»åƒé¥­lå•¦~</p>

        <h1 id="ä¸­é¥­">
          <a href="#ä¸­é¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#ä¸­é¥­" class="headerlink" title="ä¸­é¥­"></a>ä¸­é¥­</h1>
      <p>æˆ‘ä»¬çœ‹åˆ°ä¸€å®¶çƒ§é¥¼ï¼Œç„¶åæˆ‘æè®®è¦å»åƒçƒ§é¥¼ï¼Œç„¶åæˆ‘ä»¬è¿‡äº†å¤©æ¡¥ï¼Œå»ä¹°äº†ä¸¤ä¸ªçƒ§é¥¼åƒã€‚ä¸å¥½åƒï¼Œæ²¡æœ‰å®¶é—¨å£çš„é‚£å®¶çƒ§é¥¼å¥½åƒã€‚ç„¶åæˆ‘ä»¬åˆå»åƒäº†é¢~ç‚¹äº†ä¸€ç¢—ç‚¸é…±é¢å’Œä¸€ç¢—å¤§æ’é¢ï¼ŒçœŸçš„æ˜¯å¤ªéš¾åƒäº†ï¼Œåƒå®Œå›å»ã€‚åŠè·¯ä¸Šæˆ‘å¾ˆå£æ¸´ï¼Œå­™æ™¨æ™¨å»ä¹°æ°´äº†ï¼Œæ²¡æ›¾æƒ³åˆ°å¥¹å·å·ä¹°äº†ä¸¤ç“¶é¥®æ–™ï¼Œè¿˜ä¸è®©æˆ‘çŸ¥é“ï¼Œæˆ‘è¡¨ç¤ºå¾ˆç”Ÿæ°”ã€‚ç„¶åæˆ‘ä»¬å°±èµ°åˆ°åœ°é“ç«™ï¼Œå›å®¶ï¼~</p>

        <h1 id="æ™šé¥­">
          <a href="#æ™šé¥­" class="heading-link"><i class="fas fa-link"></i></a><a href="#æ™šé¥­" class="headerlink" title="æ™šé¥­"></a>æ™šé¥­</h1>
      <div align="center"><img src="/2021/11/07/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-5/å›¾3.jpg" alt="img-0" style="zoom: 20%;"></div>

<p>è€å©†çƒ§çš„ç•ªèŒ„ç‚’è›‹ï¼Œå·¨å¥½åƒã€‚</p>
<p>è¡¥å……ä¸€å¼ å›¾ï¼Œè€å©†æµ‹èº«é«˜ã€‚å“ˆå“ˆ</p>
<div align="center"><img src="/2021/11/07/%E5%87%8F%E8%82%A5%E6%97%A5%E8%AE%B0-5/å›¾4.jpg" alt="img-0" style="zoom: 20%;"></div>













<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2021.11.7</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ—¥è®°å‡ºè‡ªï¼šå­™æ™¨æ™¨</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ï¼ˆç«™åœ¨ä½™æ™ºå¼ºçš„è§’åº¦å¤è¿°è¿™ä¸€å¤©ï¼‰</p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">libertyYu</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/librityYu/" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="1169927533" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">77</div><div class="sidebar-ov-state-item__name">å½’æ¡£</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">25</div><div class="sidebar-ov-state-item__name">åˆ†ç±»</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">12</div><div class="sidebar-ov-state-item__name">æ ‡ç­¾</div></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>ç”± <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> å¼ºåŠ›é©±åŠ¨</span><span> v5.4.0</span><span class="footer__devider">|</span><span>ä¸»é¢˜ - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div><script src="https://unpkg.com/mermaid@8.8.3/dist/mermaid.min.js"></script><var>me = require('mermaid')</var></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>